
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Library</title>
</head>
<body>

  <h2>Library</h2>

  <form method="GET" action="/">
    <label for="sort_by">Sort by:</label>
    <select name="sort_by" id="sort_by" onchange="this.form.submit()">
      <option value="title" {% if sort_by == 'title' %}selected{% endif %}>Title</option>
      <option value="author" {% if sort_by == 'author' %}selected{% endif %}>Author</option>
    </select>
  </form>


  <ul>
  {% if books %}
    {% for book in books %}
      <li>
        <strong>{{ book.title }}</strong> by {{ book.author.name }}
        <form action="{{ url_for('delete_book', book_id=book.id) }}" method="POST" style="display:inline;">
          <button type="submit" onclick="return confirm('Are you sure you want to delete this book?');">Delete Book</button>
        </form>
      </li>
    {% endfor %}
  {% else %}
    <p>No books found matching your search.</p>
  {% endif %}
</ul>

</body>
</html>
